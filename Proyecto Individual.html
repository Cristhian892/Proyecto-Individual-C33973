<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.42">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Cristhian Jimenez Campos">

<title>Proyecto Individual</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="Proyecto Individual_files/libs/clipboard/clipboard.min.js"></script>
<script src="Proyecto Individual_files/libs/quarto-html/quarto.js"></script>
<script src="Proyecto Individual_files/libs/quarto-html/popper.min.js"></script>
<script src="Proyecto Individual_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="Proyecto Individual_files/libs/quarto-html/anchor.min.js"></script>
<link href="Proyecto Individual_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="Proyecto Individual_files/libs/quarto-html/quarto-syntax-highlighting-2f5df379a58b258e96c21c0638c20c03.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="Proyecto Individual_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="Proyecto Individual_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="Proyecto Individual_files/libs/bootstrap/bootstrap-1bc8a17f135ab3d594c857e9f48e611b.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<link href="Proyecto Individual_files/libs/htmltools-fill-0.5.8.1/fill.css" rel="stylesheet">

<script src="Proyecto Individual_files/libs/htmlwidgets-1.6.4/htmlwidgets.js"></script>

<script src="Proyecto Individual_files/libs/plotly-binding-4.11.0/plotly.js"></script>

<script src="Proyecto Individual_files/libs/typedarray-0.1/typedarray.min.js"></script>

<script src="Proyecto Individual_files/libs/jquery-3.5.1/jquery.min.js"></script>

<link href="Proyecto Individual_files/libs/crosstalk-1.2.2/css/crosstalk.min.css" rel="stylesheet">

<script src="Proyecto Individual_files/libs/crosstalk-1.2.2/js/crosstalk.min.js"></script>

<link href="Proyecto Individual_files/libs/plotly-htmlwidgets-css-2.11.1/plotly-htmlwidgets.css" rel="stylesheet">

<script src="Proyecto Individual_files/libs/plotly-main-2.11.1/plotly-latest.min.js"></script>



</head>

<body class="fullcontent">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Proyecto Individual</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Cristhian Jimenez Campos </p>
          </div>
  </div>
    
  
    
  </div>
  


</header>


<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Cargar librerías necesarias</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: package 'ggplot2' was built under R version 4.5.2</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──
✔ dplyr     1.1.4     ✔ readr     2.1.5
✔ forcats   1.0.0     ✔ stringr   1.5.1
✔ ggplot2   4.0.0     ✔ tibble    3.3.0
✔ lubridate 1.9.4     ✔ tidyr     1.3.1
✔ purrr     1.1.0     
── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──
✖ dplyr::filter() masks stats::filter()
✖ dplyr::lag()    masks stats::lag()
ℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors</code></pre>
</div>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(gridExtra) <span class="co"># nos ayuda a poder mezclar gráficos y tablas</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: package 'gridExtra' was built under R version 4.5.2</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>
Adjuntando el paquete: 'gridExtra'

The following object is masked from 'package:dplyr':

    combine</code></pre>
</div>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2) <span class="co">#lo usamos para generar las gráficas que se van a presentar</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(stringr) <span class="co">#Nos ayuda al manejo de cadenas de texto, etc.</span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(plotly)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: package 'plotly' was built under R version 4.5.2</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>
Adjuntando el paquete: 'plotly'

The following object is masked from 'package:ggplot2':

    last_plot

The following object is masked from 'package:stats':

    filter

The following object is masked from 'package:graphics':

    layout</code></pre>
</div>
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(haven) <span class="co">#La base de datos es .sav entonces se usó esta librería para poder cargarla</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: package 'haven' was built under R version 4.5.2</code></pre>
</div>
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr) <span class="co">#nos ayuda a transformar y utilizar data frame de manera eficaz, y legible</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyr) <span class="co">#nos ayuda a transformar datos en formato tidy, ayudando la limpieza y demás</span></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(grid) <span class="co">#nos ayuda a crear elementos gráficos personalizados, posición, tamaño, etc.</span></span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(gt) <span class="co"># con este lo usamos para generar tablas para presentación</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: package 'gt' was built under R version 4.5.2</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Se carga la base de datos que vamos a usar </span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>datos <span class="ot">&lt;-</span> <span class="fu">read_sav</span>(<span class="st">"DEFU2022.sav"</span>)</span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a><span class="co">#'Se van a quitar columnas que para el caso de estudio son innecesarias y así no pasamos</span></span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a><span class="co">#' de 32 columnas a 15, las cuales vamos a usar algunas para este proyecto</span></span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a>datos_filtrados <span class="ot">&lt;-</span> datos <span class="sc">%&gt;%</span> </span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a>   <span class="fu">select</span>(<span class="sc">-</span><span class="fu">any_of</span>(<span class="fu">c</span>(<span class="st">"anotrab"</span>, </span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a>                    <span class="st">"mestrab"</span>, </span>
<span id="cb14-9"><a href="#cb14-9" aria-hidden="true" tabindex="-1"></a>                    <span class="st">"nacionalid"</span>,</span>
<span id="cb14-10"><a href="#cb14-10" aria-hidden="true" tabindex="-1"></a>                    <span class="st">"estcivil"</span>,</span>
<span id="cb14-11"><a href="#cb14-11" aria-hidden="true" tabindex="-1"></a>                    <span class="st">"edadsrec"</span>, </span>
<span id="cb14-12"><a href="#cb14-12" aria-hidden="true" tabindex="-1"></a>                    <span class="st">"pcd"</span>,</span>
<span id="cb14-13"><a href="#cb14-13" aria-hidden="true" tabindex="-1"></a>                    <span class="st">"IU"</span>, </span>
<span id="cb14-14"><a href="#cb14-14" aria-hidden="true" tabindex="-1"></a>                    <span class="st">"autopsia"</span>, </span>
<span id="cb14-15"><a href="#cb14-15" aria-hidden="true" tabindex="-1"></a>                    <span class="st">"asistmed"</span>, </span>
<span id="cb14-16"><a href="#cb14-16" aria-hidden="true" tabindex="-1"></a>                    <span class="st">"instmurio"</span>, </span>
<span id="cb14-17"><a href="#cb14-17" aria-hidden="true" tabindex="-1"></a>                    <span class="st">"provocu"</span>,</span>
<span id="cb14-18"><a href="#cb14-18" aria-hidden="true" tabindex="-1"></a>                    <span class="st">"pcocu"</span>,</span>
<span id="cb14-19"><a href="#cb14-19" aria-hidden="true" tabindex="-1"></a>                    <span class="st">"diadef"</span>,</span>
<span id="cb14-20"><a href="#cb14-20" aria-hidden="true" tabindex="-1"></a>                    <span class="st">"anodef"</span>,</span>
<span id="cb14-21"><a href="#cb14-21" aria-hidden="true" tabindex="-1"></a>                    <span class="st">"ocuparec"</span>, </span>
<span id="cb14-22"><a href="#cb14-22" aria-hidden="true" tabindex="-1"></a>                    <span class="st">"provregis"</span>,</span>
<span id="cb14-23"><a href="#cb14-23" aria-hidden="true" tabindex="-1"></a>                    <span class="st">"pcregis"</span>,</span>
<span id="cb14-24"><a href="#cb14-24" aria-hidden="true" tabindex="-1"></a>                    <span class="st">"diadeclara"</span>,</span>
<span id="cb14-25"><a href="#cb14-25" aria-hidden="true" tabindex="-1"></a>                    <span class="st">"mesdeclara"</span>, </span>
<span id="cb14-26"><a href="#cb14-26" aria-hidden="true" tabindex="-1"></a>                    <span class="st">"anodeclara"</span>,</span>
<span id="cb14-27"><a href="#cb14-27" aria-hidden="true" tabindex="-1"></a>                    <span class="st">"grgruposcb"</span>,</span>
<span id="cb14-28"><a href="#cb14-28" aria-hidden="true" tabindex="-1"></a>                    <span class="st">"gruposcb"</span>,</span>
<span id="cb14-29"><a href="#cb14-29" aria-hidden="true" tabindex="-1"></a>                    <span class="st">"reginec"</span>, </span>
<span id="cb14-30"><a href="#cb14-30" aria-hidden="true" tabindex="-1"></a>                    <span class="st">"regsalud"</span>,</span>
<span id="cb14-31"><a href="#cb14-31" aria-hidden="true" tabindex="-1"></a>                    <span class="st">"nacmadre"</span>)))</span>
<span id="cb14-32"><a href="#cb14-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-33"><a href="#cb14-33" aria-hidden="true" tabindex="-1"></a><span class="co">#Sacamos la cantidad de muertes por provincia </span></span>
<span id="cb14-34"><a href="#cb14-34" aria-hidden="true" tabindex="-1"></a>muertes_privincia <span class="ot">&lt;-</span> datos_filtrados <span class="sc">%&gt;%</span> <span class="co">#Selecciona los datos que se han filtrado</span></span>
<span id="cb14-35"><a href="#cb14-35" aria-hidden="true" tabindex="-1"></a>   <span class="fu">group_by</span>(provincia, sexo) <span class="sc">%&gt;%</span> <span class="co">#Los agrupa por provincia, además también por sexo, ya que se van a diferenciar también en esto</span></span>
<span id="cb14-36"><a href="#cb14-36" aria-hidden="true" tabindex="-1"></a>   <span class="fu">summarise</span>(<span class="at">total_nuertes =</span> <span class="fu">n</span>(), <span class="at">.groups =</span> <span class="st">"drop"</span>) <span class="co">#Cuando se realiza la agrupación, se realiza un conteo de muertes por provincia, además de eso se va a desglosar las muertes, según el sexo, mostrando por provincia y se distribuye por género.</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Las 5 principales causas de defunción por provincia</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>muertes_5_causas <span class="ot">&lt;-</span> datos_filtrados <span class="sc">%&gt;%</span> <span class="co">#Selecciona los datos que se han filtrado</span></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>   <span class="fu">group_by</span>(provincia, sexo, causamuer, des_causa) <span class="sc">%&gt;%</span> <span class="co">#Se agrupa por provincia, sexo, causamuer y des_causa</span></span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>   <span class="fu">summarise</span>(<span class="at">total =</span> <span class="fu">n</span>(), <span class="at">.groups =</span> <span class="st">"drop"</span>) <span class="sc">%&gt;%</span> <span class="co">#Cuenta el número de muertes y remueve la agrupacion</span></span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>   <span class="fu">arrange</span>(provincia, sexo, <span class="fu">desc</span>(total)) <span class="sc">%&gt;%</span> <span class="co">#Se ordena en los resultados en provincia, sexo y en total, para mantener el orden lo acomoda de manera descendente</span></span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a>   <span class="fu">group_by</span>(provincia, sexo) <span class="sc">%&gt;%</span> <span class="co">#Agrupa por provincia y sexo para obtener las principales causas en cada grupo</span></span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a>   <span class="fu">slice_head</span>(<span class="at">n=</span><span class="dv">5</span>) <span class="co">#Esto selecciona las 5 causas de muerte, 5 por hombres y 5 por mujeres</span></span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a><span class="co">#datos por año</span></span>
<span id="cb15-10"><a href="#cb15-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-11"><a href="#cb15-11" aria-hidden="true" tabindex="-1"></a>dato_año <span class="ot">&lt;-</span> datos_filtrados <span class="sc">%&gt;%</span> <span class="co">#Selecciona los datos que se han filtrado</span></span>
<span id="cb15-12"><a href="#cb15-12" aria-hidden="true" tabindex="-1"></a>   <span class="fu">group_by</span>(provincia, sexo, causamuer, des_causa) <span class="sc">%&gt;%</span> <span class="co">#Se agrupa por provincia, sexo, causamuer y des_causa </span></span>
<span id="cb15-13"><a href="#cb15-13" aria-hidden="true" tabindex="-1"></a>   <span class="fu">summarise</span>(<span class="at">total =</span> <span class="fu">n</span>(), <span class="at">.groups =</span> <span class="st">"drop"</span>) </span>
<span id="cb15-14"><a href="#cb15-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-15"><a href="#cb15-15" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (prov <span class="cf">in</span> <span class="fu">unique</span>(datos_filtrados<span class="sc">$</span>provincia)) { <span class="co">#itera sobre las provincias únicas en datos_filtrados</span></span>
<span id="cb15-16"><a href="#cb15-16" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> (sexo_actual <span class="cf">in</span> <span class="fu">c</span>(<span class="st">"1"</span>, <span class="st">"2"</span>)) {<span class="co">#se itera sobre los valores de sexo "1" y "2"</span></span>
<span id="cb15-17"><a href="#cb15-17" aria-hidden="true" tabindex="-1"></a>   </span>
<span id="cb15-18"><a href="#cb15-18" aria-hidden="true" tabindex="-1"></a>     <span class="co"># Filtrar las 5 causas según provincia, sexo y se ordena de mayor a menor con la columna total</span></span>
<span id="cb15-19"><a href="#cb15-19" aria-hidden="true" tabindex="-1"></a>    causa_prov <span class="ot">&lt;-</span> muertes_5_causas <span class="sc">%&gt;%</span> </span>
<span id="cb15-20"><a href="#cb15-20" aria-hidden="true" tabindex="-1"></a>      <span class="fu">filter</span>(provincia <span class="sc">==</span> prov, <span class="fu">as.character</span>(sexo) <span class="sc">==</span> sexo_actual) <span class="sc">%&gt;%</span> </span>
<span id="cb15-21"><a href="#cb15-21" aria-hidden="true" tabindex="-1"></a>      <span class="fu">arrange</span>(<span class="fu">desc</span>(total)) <span class="sc">%&gt;%</span> </span>
<span id="cb15-22"><a href="#cb15-22" aria-hidden="true" tabindex="-1"></a>      <span class="fu">slice_head</span>(<span class="at">n =</span> <span class="dv">5</span>) <span class="co">#selecciona solo las primeras  5 filas</span></span>
<span id="cb15-23"><a href="#cb15-23" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb15-24"><a href="#cb15-24" aria-hidden="true" tabindex="-1"></a>     <span class="co">#Esto es creado para ser usado por la la tabla y solo usar el des_causa</span></span>
<span id="cb15-25"><a href="#cb15-25" aria-hidden="true" tabindex="-1"></a>     causa_prov_informacion <span class="ot">&lt;-</span> causa_prov <span class="sc">%&gt;%</span> <span class="fu">pull</span>(des_causa)</span>
<span id="cb15-26"><a href="#cb15-26" aria-hidden="true" tabindex="-1"></a>     </span>
<span id="cb15-27"><a href="#cb15-27" aria-hidden="true" tabindex="-1"></a>     <span class="co">#se crea una plantilla para el cuadro de información</span></span>
<span id="cb15-28"><a href="#cb15-28" aria-hidden="true" tabindex="-1"></a>     tbl_theme <span class="ot">&lt;-</span> <span class="fu">ttheme_default</span>(</span>
<span id="cb15-29"><a href="#cb15-29" aria-hidden="true" tabindex="-1"></a>        <span class="at">core =</span> <span class="fu">list</span>(<span class="at">fg_params =</span> <span class="fu">list</span>(<span class="at">hjust =</span> <span class="dv">0</span>, <span class="at">x =</span> <span class="fl">0.01</span>, <span class="at">fontsize =</span> <span class="dv">9</span>)), <span class="co">#Texto del cuerpo de la tabla</span></span>
<span id="cb15-30"><a href="#cb15-30" aria-hidden="true" tabindex="-1"></a>        <span class="at">colhead =</span> <span class="fu">list</span>(<span class="at">fg_params =</span> <span class="fu">list</span>(<span class="at">hjust =</span> <span class="dv">0</span>, <span class="at">x =</span> <span class="fl">0.01</span>, <span class="at">fontsize =</span> <span class="dv">10</span>)), <span class="co">#Encabezado de columnas</span></span>
<span id="cb15-31"><a href="#cb15-31" aria-hidden="true" tabindex="-1"></a>        <span class="at">rowhead =</span> <span class="fu">list</span>(<span class="at">fg_params =</span> <span class="fu">list</span>(<span class="at">hjust =</span> <span class="dv">0</span>, <span class="at">x =</span> <span class="fl">0.01</span>, <span class="at">fontsize =</span> <span class="dv">9</span>)) <span class="co">#Encabezado de columnas</span></span>
<span id="cb15-32"><a href="#cb15-32" aria-hidden="true" tabindex="-1"></a>      )</span>
<span id="cb15-33"><a href="#cb15-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-34"><a href="#cb15-34" aria-hidden="true" tabindex="-1"></a>     tabla_grob <span class="ot">&lt;-</span> <span class="fu">tableGrob</span>(</span>
<span id="cb15-35"><a href="#cb15-35" aria-hidden="true" tabindex="-1"></a>       <span class="fu">data.frame</span>(<span class="st">`</span><span class="at">Causas de Muerte</span><span class="st">`</span> <span class="ot">=</span> causa_prov_informacion), <span class="co"># se crea un objeto tabla para las causas de muerte filtradas</span></span>
<span id="cb15-36"><a href="#cb15-36" aria-hidden="true" tabindex="-1"></a>       <span class="at">rows =</span> <span class="cn">NULL</span>, <span class="co">#No se asigna nombres a las filas de la tabla</span></span>
<span id="cb15-37"><a href="#cb15-37" aria-hidden="true" tabindex="-1"></a>       <span class="at">theme =</span> tbl_theme) <span class="co"># aplica el tema que se creó anteriormente </span></span>
<span id="cb15-38"><a href="#cb15-38" aria-hidden="true" tabindex="-1"></a>     </span>
<span id="cb15-39"><a href="#cb15-39" aria-hidden="true" tabindex="-1"></a>     <span class="co">#ayuda a ajustar la altura de todas las filas de la tabla, para mejor aspecto visual</span></span>
<span id="cb15-40"><a href="#cb15-40" aria-hidden="true" tabindex="-1"></a>     tabla_grob<span class="sc">$</span>heights <span class="ot">&lt;-</span> <span class="fu">unit</span>(<span class="fu">rep</span>(<span class="fl">0.7</span>, <span class="fu">length</span>(tabla_grob<span class="sc">$</span>heights)), <span class="st">"lines"</span>)</span>
<span id="cb15-41"><a href="#cb15-41" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="cb15-42"><a href="#cb15-42" aria-hidden="true" tabindex="-1"></a>     datos_prov_anual_sexo <span class="ot">&lt;-</span> dato_año <span class="sc">%&gt;%</span></span>
<span id="cb15-43"><a href="#cb15-43" aria-hidden="true" tabindex="-1"></a>       <span class="fu">filter</span>(provincia <span class="sc">==</span> prov, <span class="fu">as.character</span>(sexo) <span class="sc">==</span> sexo_actual, causamuer <span class="sc">%in%</span>  causa_prov<span class="sc">$</span>causamuer) <span class="sc">%&gt;%</span> <span class="co">#filtra filas para la provincia actual, sexo actual, e incluye las causas de muerte</span></span>
<span id="cb15-44"><a href="#cb15-44" aria-hidden="true" tabindex="-1"></a>       <span class="fu">mutate</span>(</span>
<span id="cb15-45"><a href="#cb15-45" aria-hidden="true" tabindex="-1"></a>         <span class="at">causamuer =</span> <span class="fu">as.character</span>(causamuer), <span class="co"># Pasa a causamuer a caracter para evitar errores</span></span>
<span id="cb15-46"><a href="#cb15-46" aria-hidden="true" tabindex="-1"></a>         <span class="at">sexo =</span> <span class="fu">as.character</span>(sexo),<span class="co"># lo mismo con sexo</span></span>
<span id="cb15-47"><a href="#cb15-47" aria-hidden="true" tabindex="-1"></a>         <span class="at">sexo =</span> <span class="fu">case_when</span>( <span class="co">#le da a los valres de sexo nombres para una mejor comprencion</span></span>
<span id="cb15-48"><a href="#cb15-48" aria-hidden="true" tabindex="-1"></a>           sexo <span class="sc">==</span> <span class="st">"1"</span> <span class="sc">~</span> <span class="st">"Hombre"</span>,</span>
<span id="cb15-49"><a href="#cb15-49" aria-hidden="true" tabindex="-1"></a>           sexo <span class="sc">==</span> <span class="st">"2"</span> <span class="sc">~</span> <span class="st">"Mujer"</span>,</span>
<span id="cb15-50"><a href="#cb15-50" aria-hidden="true" tabindex="-1"></a>           <span class="cn">TRUE</span> <span class="sc">~</span> sexo <span class="co">#para otros valores los deja sin modificar</span></span>
<span id="cb15-51"><a href="#cb15-51" aria-hidden="true" tabindex="-1"></a>           ),</span>
<span id="cb15-52"><a href="#cb15-52" aria-hidden="true" tabindex="-1"></a>         <span class="at">causaunuer =</span> <span class="fu">factor</span>(causamuer, <span class="at">levels =</span> causa_prov<span class="sc">$</span>causamuer) <span class="co"># crea y ordena segun las causas filtradas</span></span>
<span id="cb15-53"><a href="#cb15-53" aria-hidden="true" tabindex="-1"></a>         )</span>
<span id="cb15-54"><a href="#cb15-54" aria-hidden="true" tabindex="-1"></a>     </span>
<span id="cb15-55"><a href="#cb15-55" aria-hidden="true" tabindex="-1"></a>     <span class="co"># Gráfico con ggplot2 y muestra las muertes por causa segun el sexo y la privincia </span></span>
<span id="cb15-56"><a href="#cb15-56" aria-hidden="true" tabindex="-1"></a>     plot_grafico <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(datos_prov_anual_sexo, <span class="fu">aes</span>(<span class="at">x =</span> causamuer, <span class="at">y =</span> total)) <span class="sc">+</span></span>
<span id="cb15-57"><a href="#cb15-57" aria-hidden="true" tabindex="-1"></a>       <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>, <span class="at">fill =</span> <span class="fu">ifelse</span>(sexo_actual <span class="sc">==</span> <span class="st">"1"</span>, <span class="st">"#1f77b4"</span>, <span class="st">"#CD3333"</span>)) <span class="sc">+</span></span>
<span id="cb15-58"><a href="#cb15-58" aria-hidden="true" tabindex="-1"></a>       </span>
<span id="cb15-59"><a href="#cb15-59" aria-hidden="true" tabindex="-1"></a>       <span class="co">#le asigna coloresa la grafica segun si es hombre o mujer</span></span>
<span id="cb15-60"><a href="#cb15-60" aria-hidden="true" tabindex="-1"></a>       <span class="fu">coord_flip</span>() <span class="sc">+</span> <span class="co"># invierte los ejes para que causa salga en el ejer vertical</span></span>
<span id="cb15-61"><a href="#cb15-61" aria-hidden="true" tabindex="-1"></a>       <span class="fu">scale_x_discrete</span>() <span class="sc">+</span> <span class="co"># escala discreta para las causa de muerte eje x</span></span>
<span id="cb15-62"><a href="#cb15-62" aria-hidden="true" tabindex="-1"></a>       <span class="fu">scale_y_continuous</span>(<span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">0</span>, <span class="fu">max</span>(datos_prov_anual_sexo<span class="sc">$</span>total), <span class="dv">20</span>))<span class="sc">+</span> <span class="co">#escala para el eje y y los saltos de cada 20 muertos </span></span>
<span id="cb15-63"><a href="#cb15-63" aria-hidden="true" tabindex="-1"></a>       <span class="fu">labs</span>(</span>
<span id="cb15-64"><a href="#cb15-64" aria-hidden="true" tabindex="-1"></a>         <span class="at">title =</span> <span class="fu">paste</span>(<span class="st">"Las 5 causas de muerte para"</span>, <span class="co">#Titulo dinamico con sexo y provincia</span></span>
<span id="cb15-65"><a href="#cb15-65" aria-hidden="true" tabindex="-1"></a>                       <span class="fu">ifelse</span>(sexo_actual <span class="sc">==</span> <span class="st">"1"</span>, <span class="st">"Hombres"</span>, <span class="st">"Mujeres"</span>), </span>
<span id="cb15-66"><a href="#cb15-66" aria-hidden="true" tabindex="-1"></a>                       <span class="st">"en"</span>, prov),</span>
<span id="cb15-67"><a href="#cb15-67" aria-hidden="true" tabindex="-1"></a>         <span class="at">x =</span> <span class="st">"Causa de muerte"</span>,  </span>
<span id="cb15-68"><a href="#cb15-68" aria-hidden="true" tabindex="-1"></a>         <span class="at">y =</span> <span class="st">"Número de muertes"</span></span>
<span id="cb15-69"><a href="#cb15-69" aria-hidden="true" tabindex="-1"></a>         ) <span class="sc">+</span></span>
<span id="cb15-70"><a href="#cb15-70" aria-hidden="true" tabindex="-1"></a>       <span class="fu">theme_minimal</span>() <span class="sc">+</span> <span class="co"># </span></span>
<span id="cb15-71"><a href="#cb15-71" aria-hidden="true" tabindex="-1"></a>       <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"none"</span>) <span class="co"># </span></span>
<span id="cb15-72"><a href="#cb15-72" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb15-73"><a href="#cb15-73" aria-hidden="true" tabindex="-1"></a>     <span class="co"># Combinar la gráfica y la tabla creada arriba en un solo output</span></span>
<span id="cb15-74"><a href="#cb15-74" aria-hidden="true" tabindex="-1"></a>     <span class="fu">grid.arrange</span>(plot_grafico, tabla_grob, <span class="at">ncol =</span> <span class="dv">1</span>, <span class="at">heights =</span> <span class="fu">c</span>(<span class="dv">4</span>, <span class="dv">1</span>))</span>
<span id="cb15-75"><a href="#cb15-75" aria-hidden="true" tabindex="-1"></a>     }</span>
<span id="cb15-76"><a href="#cb15-76" aria-hidden="true" tabindex="-1"></a>  }</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Proyecto-Individual_files/figure-html/unnamed-chunk-3-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Proyecto-Individual_files/figure-html/unnamed-chunk-3-2.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Proyecto-Individual_files/figure-html/unnamed-chunk-3-3.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Proyecto-Individual_files/figure-html/unnamed-chunk-3-4.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Proyecto-Individual_files/figure-html/unnamed-chunk-3-5.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Proyecto-Individual_files/figure-html/unnamed-chunk-3-6.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Proyecto-Individual_files/figure-html/unnamed-chunk-3-7.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Proyecto-Individual_files/figure-html/unnamed-chunk-3-8.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Proyecto-Individual_files/figure-html/unnamed-chunk-3-9.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Proyecto-Individual_files/figure-html/unnamed-chunk-3-10.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Proyecto-Individual_files/figure-html/unnamed-chunk-3-11.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Proyecto-Individual_files/figure-html/unnamed-chunk-3-12.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Proyecto-Individual_files/figure-html/unnamed-chunk-3-13.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Proyecto-Individual_files/figure-html/unnamed-chunk-3-14.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="co"># defunciones por provincias y sexo de manera anual</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>muertes_privincia <span class="ot">&lt;-</span> datos_filtrados <span class="sc">%&gt;%</span></span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>   <span class="fu">group_by</span>(provincia, sexo, causamuer) <span class="sc">%&gt;%</span></span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>   <span class="fu">summarise</span>(<span class="at">total_nuertes =</span> <span class="fu">n</span>(), <span class="at">.groups =</span> <span class="st">"drop"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>nombres_meses <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Enero"</span>, <span class="st">"Febrero"</span>, <span class="st">"Marzo"</span>, <span class="st">"Abril"</span>, <span class="st">"Mayo"</span>, <span class="st">"Junio"</span>, </span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>                   <span class="st">"Julio"</span>, <span class="st">"Agosto"</span>, <span class="st">"Septiembre"</span>, <span class="st">"Octubre"</span>, <span class="st">"Noviembre"</span>, <span class="st">"Diciembre"</span>)</span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a><span class="co"># analisis mensual, por medio del mes.</span></span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a>resultados_mensuales <span class="ot">&lt;-</span> datos_filtrados <span class="sc">%&gt;%</span></span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(mesdef, sexo, causamuer, des_causa) <span class="sc">%&gt;%</span></span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">total_muertes =</span> <span class="fu">n</span>(), <span class="at">.groups =</span> <span class="st">"drop"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(mesdef, sexo) <span class="sc">%&gt;%</span></span>
<span id="cb17-9"><a href="#cb17-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(mesdef, sexo, <span class="fu">desc</span>(total_muertes)) <span class="sc">%&gt;%</span></span>
<span id="cb17-10"><a href="#cb17-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice_head</span>(<span class="at">n =</span> <span class="dv">5</span>) <span class="sc">%&gt;%</span></span>
<span id="cb17-11"><a href="#cb17-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span></span>
<span id="cb17-12"><a href="#cb17-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb17-13"><a href="#cb17-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">sexo =</span> <span class="fu">case_when</span>(</span>
<span id="cb17-14"><a href="#cb17-14" aria-hidden="true" tabindex="-1"></a>      sexo <span class="sc">==</span> <span class="dv">1</span> <span class="sc">~</span> <span class="st">"Hombre"</span>,</span>
<span id="cb17-15"><a href="#cb17-15" aria-hidden="true" tabindex="-1"></a>      sexo <span class="sc">==</span> <span class="dv">2</span> <span class="sc">~</span> <span class="st">"Mujer"</span>,</span>
<span id="cb17-16"><a href="#cb17-16" aria-hidden="true" tabindex="-1"></a>      <span class="cn">TRUE</span> <span class="sc">~</span> <span class="fu">as.character</span>(sexo)</span>
<span id="cb17-17"><a href="#cb17-17" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb17-18"><a href="#cb17-18" aria-hidden="true" tabindex="-1"></a>    <span class="at">mes =</span> <span class="fu">factor</span>(nombres_meses[mesdef], <span class="at">levels =</span> nombres_meses)  </span>
<span id="cb17-19"><a href="#cb17-19" aria-hidden="true" tabindex="-1"></a>  ) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>muertes_por_mes_sexo_prov <span class="ot">&lt;-</span> datos_filtrados <span class="sc">%&gt;%</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(mesdef, sexo, provincia) <span class="sc">%&gt;%</span></span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">total_muertes =</span> <span class="fu">n</span>(), <span class="at">.groups =</span> <span class="st">"drop"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">sexo =</span> <span class="fu">case_when</span>(</span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a>      sexo <span class="sc">==</span> <span class="dv">1</span> <span class="sc">~</span> <span class="st">"Hombre"</span>,</span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a>      sexo <span class="sc">==</span> <span class="dv">2</span> <span class="sc">~</span> <span class="st">"Mujer"</span>,</span>
<span id="cb18-8"><a href="#cb18-8" aria-hidden="true" tabindex="-1"></a>      <span class="cn">TRUE</span> <span class="sc">~</span> <span class="fu">as.character</span>(sexo)</span>
<span id="cb18-9"><a href="#cb18-9" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb18-10"><a href="#cb18-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">mes =</span> <span class="fu">factor</span>(nombres_meses[mesdef], <span class="at">levels =</span> nombres_meses)</span>
<span id="cb18-11"><a href="#cb18-11" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb18-12"><a href="#cb18-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(mesdef, sexo, provincia)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Gráfica por mes, de la cantidad de defunciones de hombres y mujeres.</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(resultados_mensuales, <span class="fu">aes</span>(<span class="at">x =</span> mes, <span class="at">y =</span> total_muertes, <span class="at">fill =</span> sexo)) <span class="sc">+</span></span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>, <span class="at">position =</span> <span class="st">"dodge"</span>) <span class="sc">+</span></span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Total de muertes por mes y sexo"</span>,</span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"Mes"</span>,</span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Total de muertes"</span>,</span>
<span id="cb19-8"><a href="#cb19-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">fill =</span> <span class="st">"sexo"</span></span>
<span id="cb19-9"><a href="#cb19-9" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb19-10"><a href="#cb19-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"Hombre"</span> <span class="ot">=</span> <span class="st">"#1f77b4"</span>, <span class="st">"Mujer"</span> <span class="ot">=</span> <span class="st">"#CD3333"</span>, <span class="st">"Otro"</span> <span class="ot">=</span> <span class="st">"red"</span>)) <span class="sc">+</span></span>
<span id="cb19-11"><a href="#cb19-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb19-12"><a href="#cb19-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb19-13"><a href="#cb19-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">90</span>, <span class="at">hjust =</span> <span class="dv">1</span>), <span class="co"># se tomó la decisión de poner los nombres de los meses, si el ángulo es de 45 la lectura es borrosa, si es de 0, algunos se solapan, entonces se puso un ángulo de 90</span></span>
<span id="cb19-14"><a href="#cb19-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">hjust =</span> <span class="fl">0.5</span>, <span class="at">face =</span> <span class="st">"bold"</span>)</span>
<span id="cb19-15"><a href="#cb19-15" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Proyecto-Individual_files/figure-html/unnamed-chunk-7-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Vamos a buscar las principales causas de muerte por provincia </span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>muertes_5_causas <span class="ot">&lt;-</span> datos_filtrados <span class="sc">%&gt;%</span></span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(provincia, sexo, causamuer, des_causa) <span class="sc">%&gt;%</span></span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">total =</span> <span class="fu">n</span>(), <span class="at">.groups =</span> <span class="st">"drop"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(provincia, sexo, <span class="fu">desc</span>(total)) <span class="sc">%&gt;%</span></span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(provincia, sexo) <span class="sc">%&gt;%</span></span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice_head</span>(<span class="at">n =</span> <span class="dv">5</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb20-8"><a href="#cb20-8" aria-hidden="true" tabindex="-1"></a>   <span class="fu">ungroup</span>()</span>
<span id="cb20-9"><a href="#cb20-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-10"><a href="#cb20-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Buscamos el promedio de las edades por las diferentes causas de muerte de cada provincia </span></span>
<span id="cb20-11"><a href="#cb20-11" aria-hidden="true" tabindex="-1"></a>promedio_edad_causas <span class="ot">&lt;-</span> datos_filtrados <span class="sc">%&gt;%</span></span>
<span id="cb20-12"><a href="#cb20-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">inner_join</span>(muertes_5_causas <span class="sc">%&gt;%</span> <span class="fu">select</span>(provincia, sexo, causamuer), </span>
<span id="cb20-13"><a href="#cb20-13" aria-hidden="true" tabindex="-1"></a>             <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"provincia"</span>, <span class="st">"sexo"</span>, <span class="st">"causamuer"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb20-14"><a href="#cb20-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(provincia, sexo, causamuer, des_causa) <span class="sc">%&gt;%</span></span>
<span id="cb20-15"><a href="#cb20-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb20-16"><a href="#cb20-16" aria-hidden="true" tabindex="-1"></a>    <span class="at">promedio_edad =</span> <span class="fu">mean</span>(edads, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),  </span>
<span id="cb20-17"><a href="#cb20-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">n_casos =</span> <span class="fu">n</span>(),</span>
<span id="cb20-18"><a href="#cb20-18" aria-hidden="true" tabindex="-1"></a>    <span class="at">.groups =</span> <span class="st">'drop'</span></span>
<span id="cb20-19"><a href="#cb20-19" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb20-20"><a href="#cb20-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb20-21"><a href="#cb20-21" aria-hidden="true" tabindex="-1"></a>    <span class="at">sexo =</span> <span class="fu">case_when</span>(</span>
<span id="cb20-22"><a href="#cb20-22" aria-hidden="true" tabindex="-1"></a>    sexo <span class="sc">==</span> <span class="dv">1</span> <span class="sc">~</span> <span class="st">"Hombre"</span>,   </span>
<span id="cb20-23"><a href="#cb20-23" aria-hidden="true" tabindex="-1"></a>    sexo <span class="sc">==</span> <span class="dv">2</span> <span class="sc">~</span> <span class="st">"Mujer"</span>,</span>
<span id="cb20-24"><a href="#cb20-24" aria-hidden="true" tabindex="-1"></a>    <span class="cn">TRUE</span> <span class="sc">~</span> <span class="fu">as.character</span>(sexo)   </span>
<span id="cb20-25"><a href="#cb20-25" aria-hidden="true" tabindex="-1"></a>  ))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="co">#se va a crear una grafica interactiva</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>grafica_interactiva <span class="ot">&lt;-</span> promedio_edad_causas <span class="sc">%&gt;%</span></span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">etiqueta =</span> <span class="fu">paste</span>(</span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Provincia:"</span>, provincia, <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>,</span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Causa:"</span>, des_causa, <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>, </span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Sexo:"</span>, sexo, <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>,</span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Edad promedio:"</span>, <span class="fu">round</span>(promedio_edad, <span class="dv">1</span>), <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>,</span>
<span id="cb21-8"><a href="#cb21-8" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Casos:"</span>, n_casos</span>
<span id="cb21-9"><a href="#cb21-9" aria-hidden="true" tabindex="-1"></a>  )) <span class="sc">%&gt;%</span></span>
<span id="cb21-10"><a href="#cb21-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> promedio_edad, <span class="at">y =</span> <span class="fu">fct_reorder</span>(causamuer, promedio_edad), </span>
<span id="cb21-11"><a href="#cb21-11" aria-hidden="true" tabindex="-1"></a>             <span class="at">text =</span> etiqueta)) <span class="sc">+</span></span>
<span id="cb21-12"><a href="#cb21-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">size =</span> n_casos, <span class="at">color =</span> sexo), <span class="at">alpha =</span> <span class="fl">0.7</span>) <span class="sc">+</span></span>
<span id="cb21-13"><a href="#cb21-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_grid</span>(provincia <span class="sc">~</span> ., <span class="at">scales =</span> <span class="st">"free_y"</span>, <span class="at">space =</span> <span class="st">"free_y"</span>) <span class="sc">+</span></span>
<span id="cb21-14"><a href="#cb21-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb21-15"><a href="#cb21-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Promedio de edad y frecuencia de las principales causas de muerte"</span>,</span>
<span id="cb21-16"><a href="#cb21-16" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"Edad promedio"</span>,</span>
<span id="cb21-17"><a href="#cb21-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Causa de muerte"</span>,</span>
<span id="cb21-18"><a href="#cb21-18" aria-hidden="true" tabindex="-1"></a>    <span class="at">size =</span> <span class="st">"Número de casos"</span>,</span>
<span id="cb21-19"><a href="#cb21-19" aria-hidden="true" tabindex="-1"></a>    <span class="at">color =</span> <span class="st">"Sexo"</span></span>
<span id="cb21-20"><a href="#cb21-20" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb21-21"><a href="#cb21-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb21-22"><a href="#cb21-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"Hombre"</span> <span class="ot">=</span> <span class="st">"#1f77b4"</span>, <span class="st">"Mujer"</span> <span class="ot">=</span> <span class="st">"#ff7f0e"</span>)) <span class="sc">+</span></span>
<span id="cb21-23"><a href="#cb21-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb21-24"><a href="#cb21-24" aria-hidden="true" tabindex="-1"></a>    <span class="at">strip.text.y =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">0</span>, <span class="at">size =</span> <span class="dv">8</span>),</span>
<span id="cb21-25"><a href="#cb21-25" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.text.y =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">7</span>)</span>
<span id="cb21-26"><a href="#cb21-26" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb21-27"><a href="#cb21-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-28"><a href="#cb21-28" aria-hidden="true" tabindex="-1"></a><span class="co"># Convertir a interactivo</span></span>
<span id="cb21-29"><a href="#cb21-29" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplotly</span>(grafica_interactiva, <span class="at">tooltip =</span> <span class="st">"text"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item" id="htmlwidget-5c29354770eafaced585" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-5c29354770eafaced585">{"x":{"data":[{"x":[70.314960629921259,78.196721311475414,78.025862068965523,71.923595505617982,74.021472392638032],"y":[2,5,6,4,3],"text":["Provincia: 1 <br /> Causa: C169 - Tumor maligno del estómago, parte no especificada <br /> Sexo: Hombre <br /> Edad promedio: 70.3 <br /> Casos: 127","Provincia: 1 <br /> Causa: C610 - Tumor maligno de la próstata <br /> Sexo: Hombre <br /> Edad promedio: 78.2 <br /> Casos: 122","Provincia: 1 <br /> Causa: I100 - Hipertensión esencial (primaria) <br /> Sexo: Hombre <br /> Edad promedio: 78 <br /> Casos: 116","Provincia: 1 <br /> Causa: I219 - Infarto agudo del miocardio, sin otra especificación <br /> Sexo: Hombre <br /> Edad promedio: 71.9 <br /> Casos: 445","Provincia: 1 <br /> Causa: U071 - COVID-19 virus identificado <br /> Sexo: Hombre <br /> Edad promedio: 74 <br /> Casos: 326"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(31,119,180,1)","opacity":0.69999999999999996,"size":[13.160934283812784,12.932642004526622,12.650939980523528,22.677165354330711,19.79252408861861],"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(31,119,180,1)"}},"hoveron":"points","name":"Hombre","legendgroup":"Hombre","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[78.914893617021278,78.863013698630141,72.087786259541986,74.713615023474176,34.863013698630134],"y":[5,6,4,3,1],"text":["Provincia: 2 <br /> Causa: C610 - Tumor maligno de la próstata <br /> Sexo: Hombre <br /> Edad promedio: 78.9 <br /> Casos: 94","Provincia: 2 <br /> Causa: I100 - Hipertensión esencial (primaria) <br /> Sexo: Hombre <br /> Edad promedio: 78.9 <br /> Casos: 73","Provincia: 2 <br /> Causa: I219 - Infarto agudo del miocardio, sin otra especificación <br /> Sexo: Hombre <br /> Edad promedio: 72.1 <br /> Casos: 262","Provincia: 2 <br /> Causa: U071 - COVID-19 virus identificado <br /> Sexo: Hombre <br /> Edad promedio: 74.7 <br /> Casos: 213","Provincia: 2 <br /> Causa: V299 - Motociclista [cualquiera] lesionado en accidente de tránsito no especificado <br /> Sexo: Hombre <br /> Edad promedio: 34.9 <br /> Casos: 73"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(31,119,180,1)","opacity":0.69999999999999996,"size":[11.530933288643482,10.284362747919822,18.001186055444279,16.459785725603282,10.284362747919822],"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(31,119,180,1)"}},"hoveron":"points","name":"Hombre","legendgroup":"Hombre","showlegend":false,"xaxis":"x","yaxis":"y2","hoverinfo":"text","frame":null},{"x":[68.981481481481481,80.854166666666671,80.025641025641022,71.152866242038215,73.71052631578948],"y":[2,5,6,4,3],"text":["Provincia: 3 <br /> Causa: C169 - Tumor maligno del estómago, parte no especificada <br /> Sexo: Hombre <br /> Edad promedio: 69 <br /> Casos: 54","Provincia: 3 <br /> Causa: C610 - Tumor maligno de la próstata <br /> Sexo: Hombre <br /> Edad promedio: 80.9 <br /> Casos: 48","Provincia: 3 <br /> Causa: I100 - Hipertensión esencial (primaria) <br /> Sexo: Hombre <br /> Edad promedio: 80 <br /> Casos: 39","Provincia: 3 <br /> Causa: I219 - Infarto agudo del miocardio, sin otra especificación <br /> Sexo: Hombre <br /> Edad promedio: 71.2 <br /> Casos: 157","Provincia: 3 <br /> Causa: U071 - COVID-19 virus identificado <br /> Sexo: Hombre <br /> Edad promedio: 73.7 <br /> Casos: 76"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(31,119,180,1)","opacity":0.69999999999999996,"size":[8.9014399086820948,8.3791406316022243,7.4592180170928035,14.428401707804545,10.476665282317946],"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(31,119,180,1)"}},"hoveron":"points","name":"Hombre","legendgroup":"Hombre","showlegend":false,"xaxis":"x","yaxis":"y3","hoverinfo":"text","frame":null},{"x":[79.939999999999998,74.4368932038835,74.545454545454547,67.21875,73.740740740740748],"y":[7,6,5,2,4],"text":["Provincia: 4 <br /> Causa: C610 - Tumor maligno de la próstata <br /> Sexo: Hombre <br /> Edad promedio: 79.9 <br /> Casos: 50","Provincia: 4 <br /> Causa: I219 - Infarto agudo del miocardio, sin otra especificación <br /> Sexo: Hombre <br /> Edad promedio: 74.4 <br /> Casos: 103","Provincia: 4 <br /> Causa: I259 - Enfermedad isquémica crónica del corazón, no especificada <br /> Sexo: Hombre <br /> Edad promedio: 74.5 <br /> Casos: 33","Provincia: 4 <br /> Causa: K769 - Enfermedad del hígado, no especificada <br /> Sexo: Hombre <br /> Edad promedio: 67.2 <br /> Casos: 32","Provincia: 4 <br /> Causa: U071 - COVID-19 virus identificado <br /> Sexo: Hombre <br /> Edad promedio: 73.7 <br /> Casos: 108"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(31,119,180,1)","opacity":0.69999999999999996,"size":[8.5595856811408666,12.007565559384723,6.6885782920019494,6.5392954025833836,12.260795000793838],"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(31,119,180,1)"}},"hoveron":"points","name":"Hombre","legendgroup":"Hombre","showlegend":false,"xaxis":"x","yaxis":"y4","hoverinfo":"text","frame":null},{"x":[78.159999999999997,72.090909090909093,73.911111111111111,78.490566037735846,84.217391304347828],"y":[7,3,5,6,4],"text":["Provincia: 5 <br /> Causa: C610 - Tumor maligno de la próstata <br /> Sexo: Hombre <br /> Edad promedio: 78.2 <br /> Casos: 50","Provincia: 5 <br /> Causa: I120 - Enfermedad renal hipertensiva con insuficiencia renal <br /> Sexo: Hombre <br /> Edad promedio: 72.1 <br /> Casos: 66","Provincia: 5 <br /> Causa: I219 - Infarto agudo del miocardio, sin otra especificación <br /> Sexo: Hombre <br /> Edad promedio: 73.9 <br /> Casos: 90","Provincia: 5 <br /> Causa: N185 - Enfermedad renal crónica, etapa 5 <br /> Sexo: Hombre <br /> Edad promedio: 78.5 <br /> Casos: 53","Provincia: 5 <br /> Causa: U071 - COVID-19 virus identificado <br /> Sexo: Hombre <br /> Edad promedio: 84.2 <br /> Casos: 69"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(31,119,180,1)","opacity":0.69999999999999996,"size":[8.5595856811408666,9.8118635508158167,11.309418681637961,8.8181512303145109,10.018746289597356],"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(31,119,180,1)"}},"hoveron":"points","name":"Hombre","legendgroup":"Hombre","showlegend":false,"xaxis":"x","yaxis":"y5","hoverinfo":"text","frame":null},{"x":[78.806451612903231,75,69.316455696202539,72.833333333333329,33.382978723404257],"y":[5,6,4,3,1],"text":["Provincia: 6 <br /> Causa: C610 - Tumor maligno de la próstata <br /> Sexo: Hombre <br /> Edad promedio: 78.8 <br /> Casos: 62","Provincia: 6 <br /> Causa: I100 - Hipertensión esencial (primaria) <br /> Sexo: Hombre <br /> Edad promedio: 75 <br /> Casos: 38","Provincia: 6 <br /> Causa: I219 - Infarto agudo del miocardio, sin otra especificación <br /> Sexo: Hombre <br /> Edad promedio: 69.3 <br /> Casos: 79","Provincia: 6 <br /> Causa: U071 - COVID-19 virus identificado <br /> Sexo: Hombre <br /> Edad promedio: 72.8 <br /> Casos: 96","Provincia: 6 <br /> Causa: V299 - Motociclista [cualquiera] lesionado en accidente de tránsito no especificado <br /> Sexo: Hombre <br /> Edad promedio: 33.4 <br /> Casos: 47"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(31,119,180,1)","opacity":0.69999999999999996,"size":[9.5244424453478747,7.3423725248496918,10.663598050734267,11.639349822825912,8.2862095758453425],"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(31,119,180,1)"}},"hoveron":"points","name":"Hombre","legendgroup":"Hombre","showlegend":false,"xaxis":"x","yaxis":"y6","hoverinfo":"text","frame":null},{"x":[84.941176470588232,75.419047619047618,35.382978723404257,31.886792452830189,35.717948717948715],"y":[6,5,2,1,3],"text":["Provincia: 7 <br /> Causa: I219 - Infarto agudo del miocardio, sin otra especificación <br /> Sexo: Hombre <br /> Edad promedio: 84.9 <br /> Casos: 85","Provincia: 7 <br /> Causa: U071 - COVID-19 virus identificado <br /> Sexo: Hombre <br /> Edad promedio: 75.4 <br /> Casos: 105","Provincia: 7 <br /> Causa: V299 - Motociclista [cualquiera] lesionado en accidente de tránsito no especificado <br /> Sexo: Hombre <br /> Edad promedio: 35.4 <br /> Casos: 47","Provincia: 7 <br /> Causa: X954 - Agresión con disparo de otras armas de fuego, y las no especificadas, calles y carreteras <br /> Sexo: Hombre <br /> Edad promedio: 31.9 <br /> Casos: 53","Provincia: 7 <br /> Causa: X959 - Agresión con disparo de otras armas de fuego, y las no especificadas, lugar no especificado <br /> Sexo: Hombre <br /> Edad promedio: 35.7 <br /> Casos: 39"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(31,119,180,1)","opacity":0.69999999999999996,"size":[11.023005469183834,12.109781130720247,8.2862095758453425,8.8181512303145109,7.4592180170928035],"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(31,119,180,1)"}},"hoveron":"points","name":"Hombre","legendgroup":"Hombre","showlegend":false,"xaxis":"x","yaxis":"y7","hoverinfo":"text","frame":null},{"x":[69.173333333333332,88.475247524752476,81.202380952380949,79.298850574712645,75.873134328358205],"y":[1,7,6,4,3],"text":["Provincia: 1 <br /> Causa: C509 - Tumor maligno de la mama, parte no especificada <br /> Sexo: Mujer <br /> Edad promedio: 69.2 <br /> Casos: 150","Provincia: 1 <br /> Causa: F030 - Demencia , no especificada <br /> Sexo: Mujer <br /> Edad promedio: 88.5 <br /> Casos: 101","Provincia: 1 <br /> Causa: I100 - Hipertensión esencial (primaria) <br /> Sexo: Mujer <br /> Edad promedio: 81.2 <br /> Casos: 168","Provincia: 1 <br /> Causa: I219 - Infarto agudo del miocardio, sin otra especificación <br /> Sexo: Mujer <br /> Edad promedio: 79.3 <br /> Casos: 348","Provincia: 1 <br /> Causa: U071 - COVID-19 virus identificado <br /> Sexo: Mujer <br /> Edad promedio: 75.9 <br /> Casos: 268"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(255,127,14,1)","opacity":0.69999999999999996,"size":[14.146528924884242,11.904064105929425,14.856862726840204,20.363668339418179,18.178594059631923],"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(255,127,14,1)"}},"hoveron":"points","name":"Mujer","legendgroup":"Mujer","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[80.352941176470594,86.089285714285708,91.951456310679617,78.291208791208788,81.352631578947367],"y":[2,7,6,4,3],"text":["Provincia: 2 <br /> Causa: C509 - Tumor maligno de la mama, parte no especificada <br /> Sexo: Mujer <br /> Edad promedio: 80.4 <br /> Casos: 68","Provincia: 2 <br /> Causa: F030 - Demencia , no especificada <br /> Sexo: Mujer <br /> Edad promedio: 86.1 <br /> Casos: 56","Provincia: 2 <br /> Causa: I100 - Hipertensión esencial (primaria) <br /> Sexo: Mujer <br /> Edad promedio: 92 <br /> Casos: 103","Provincia: 2 <br /> Causa: I219 - Infarto agudo del miocardio, sin otra especificación <br /> Sexo: Mujer <br /> Edad promedio: 78.3 <br /> Casos: 182","Provincia: 2 <br /> Causa: U071 - COVID-19 virus identificado <br /> Sexo: Mujer <br /> Edad promedio: 81.4 <br /> Casos: 190"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(255,127,14,1)","opacity":0.69999999999999996,"size":[9.9505560593023201,9.0640806480715437,12.007565559384723,15.379310361032493,15.667547662778736],"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(255,127,14,1)"}},"hoveron":"points","name":"Mujer","legendgroup":"Mujer","showlegend":false,"xaxis":"x","yaxis":"y2","hoverinfo":"text","frame":null},{"x":[63.625,82.174999999999997,75.522522522522522,83.977272727272734,71.315789473684205],"y":[1,6,4,7,3],"text":["Provincia: 3 <br /> Causa: C509 - Tumor maligno de la mama, parte no especificada <br /> Sexo: Mujer <br /> Edad promedio: 63.6 <br /> Casos: 40","Provincia: 3 <br /> Causa: I100 - Hipertensión esencial (primaria) <br /> Sexo: Mujer <br /> Edad promedio: 82.2 <br /> Casos: 40","Provincia: 3 <br /> Causa: I219 - Infarto agudo del miocardio, sin otra especificación <br /> Sexo: Mujer <br /> Edad promedio: 75.5 <br /> Casos: 111","Provincia: 3 <br /> Causa: J449 - Enfermedad pulmonar obstructiva crónica, no especificada <br /> Sexo: Mujer <br /> Edad promedio: 84 <br /> Casos: 44","Provincia: 3 <br /> Causa: U071 - COVID-19 virus identificado <br /> Sexo: Mujer <br /> Edad promedio: 71.3 <br /> Casos: 57"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(255,127,14,1)","opacity":0.69999999999999996,"size":[7.572465666071821,7.572465666071821,12.409166616881047,7.9951425735462243,9.1435520712398723],"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(255,127,14,1)"}},"hoveron":"points","name":"Mujer","legendgroup":"Mujer","showlegend":false,"xaxis":"x","yaxis":"y3","hoverinfo":"text","frame":null},{"x":[63,62.977272727272727,82.114285714285714,80.652631578947364,76.907692307692301],"y":[3,1,8,6,4],"text":["Provincia: 4 <br /> Causa: C169 - Tumor maligno del estómago, parte no especificada <br /> Sexo: Mujer <br /> Edad promedio: 63 <br /> Casos: 31","Provincia: 4 <br /> Causa: C509 - Tumor maligno de la mama, parte no especificada <br /> Sexo: Mujer <br /> Edad promedio: 63 <br /> Casos: 44","Provincia: 4 <br /> Causa: I100 - Hipertensión esencial (primaria) <br /> Sexo: Mujer <br /> Edad promedio: 82.1 <br /> Casos: 35","Provincia: 4 <br /> Causa: I219 - Infarto agudo del miocardio, sin otra especificación <br /> Sexo: Mujer <br /> Edad promedio: 80.7 <br /> Casos: 95","Provincia: 4 <br /> Causa: U071 - COVID-19 virus identificado <br /> Sexo: Mujer <br /> Edad promedio: 76.9 <br /> Casos: 65"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(255,127,14,1)","opacity":0.69999999999999996,"size":[6.381461634601,7.9951425735462243,6.9662329737789515,11.58532978569276,9.7413074862920901],"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(255,127,14,1)"}},"hoveron":"points","name":"Mujer","legendgroup":"Mujer","showlegend":false,"xaxis":"x","yaxis":"y4","hoverinfo":"text","frame":null},{"x":[64.791666666666671,67.130434782608702,86.599999999999994,97.767857142857139,73.322580645161295],"y":[1,2,8,5,4],"text":["Provincia: 5 <br /> Causa: C509 - Tumor maligno de la mama, parte no especificada <br /> Sexo: Mujer <br /> Edad promedio: 64.8 <br /> Casos: 24","Provincia: 5 <br /> Causa: E112 - Diabetes mellitus no insulinodependiente, con complicaciones renales <br /> Sexo: Mujer <br /> Edad promedio: 67.1 <br /> Casos: 23","Provincia: 5 <br /> Causa: I100 - Hipertensión esencial (primaria) <br /> Sexo: Mujer <br /> Edad promedio: 86.6 <br /> Casos: 35","Provincia: 5 <br /> Causa: I219 - Infarto agudo del miocardio, sin otra especificación <br /> Sexo: Mujer <br /> Edad promedio: 97.8 <br /> Casos: 56","Provincia: 5 <br /> Causa: U071 - COVID-19 virus identificado <br /> Sexo: Mujer <br /> Edad promedio: 73.3 <br /> Casos: 62"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(255,127,14,1)","opacity":0.69999999999999996,"size":[4.6994501735645402,3.7795275590551185,6.9662329737789515,9.0640806480715437,9.5244424453478747],"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(255,127,14,1)"}},"hoveron":"points","name":"Mujer","legendgroup":"Mujer","showlegend":false,"xaxis":"x","yaxis":"y5","hoverinfo":"text","frame":null},{"x":[59.714285714285715,75.599999999999994,85.205128205128204,76.064516129032256,78],"y":[2,7,6,4,3],"text":["Provincia: 6 <br /> Causa: C509 - Tumor maligno de la mama, parte no especificada <br /> Sexo: Mujer <br /> Edad promedio: 59.7 <br /> Casos: 35","Provincia: 6 <br /> Causa: E146 - Diabetes mellitus no especificada, con otras complicaciones especificadas <br /> Sexo: Mujer <br /> Edad promedio: 75.6 <br /> Casos: 25","Provincia: 6 <br /> Causa: I100 - Hipertensión esencial (primaria) <br /> Sexo: Mujer <br /> Edad promedio: 85.2 <br /> Casos: 39","Provincia: 6 <br /> Causa: I219 - Infarto agudo del miocardio, sin otra especificación <br /> Sexo: Mujer <br /> Edad promedio: 76.1 <br /> Casos: 31","Provincia: 6 <br /> Causa: U071 - COVID-19 virus identificado <br /> Sexo: Mujer <br /> Edad promedio: 78 <br /> Casos: 57"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(255,127,14,1)","opacity":0.69999999999999996,"size":[6.9662329737789515,5.0804945968280588,7.4592180170928035,6.381461634601,9.1435520712398723],"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(255,127,14,1)"}},"hoveron":"points","name":"Mujer","legendgroup":"Mujer","showlegend":false,"xaxis":"x","yaxis":"y6","hoverinfo":"text","frame":null},{"x":[66.828571428571422,105.76000000000001,79,76.21621621621621,70.182926829268297],"y":[4,8,7,6,5],"text":["Provincia: 7 <br /> Causa: C509 - Tumor maligno de la mama, parte no especificada <br /> Sexo: Mujer <br /> Edad promedio: 66.8 <br /> Casos: 35","Provincia: 7 <br /> Causa: E146 - Diabetes mellitus no especificada, con otras complicaciones especificadas <br /> Sexo: Mujer <br /> Edad promedio: 105.8 <br /> Casos: 25","Provincia: 7 <br /> Causa: I100 - Hipertensión esencial (primaria) <br /> Sexo: Mujer <br /> Edad promedio: 79 <br /> Casos: 27","Provincia: 7 <br /> Causa: I219 - Infarto agudo del miocardio, sin otra especificación <br /> Sexo: Mujer <br /> Edad promedio: 76.2 <br /> Casos: 37","Provincia: 7 <br /> Causa: U071 - COVID-19 virus identificado <br /> Sexo: Mujer <br /> Edad promedio: 70.2 <br /> Casos: 82"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(255,127,14,1)","opacity":0.69999999999999996,"size":[6.9662329737789515,5.0804945968280588,5.619372788073961,7.2215628048946927,10.845587237862334],"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(255,127,14,1)"}},"hoveron":"points","name":"Mujer","legendgroup":"Mujer","showlegend":false,"xaxis":"x","yaxis":"y7","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":52.529680365296812,"r":18.99543378995434,"b":37.260273972602747,"l":44.167704441677046},"paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724},"title":{"text":"Promedio de edad y frecuencia de las principales causas de muerte","font":{"color":"rgba(0,0,0,1)","family":"","size":17.534246575342465},"x":0,"xref":"paper"},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[28.193132075471699,109.45366037735849],"tickmode":"array","ticktext":["30","50","70","90"],"tickvals":[30,50,70.000000000000014,90],"categoryorder":"array","categoryarray":["30","50","70","90"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.6529680365296811,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0,"zeroline":false,"anchor":"y7","title":"","hoverformat":".2f"},"annotations":[{"text":"Edad promedio","x":0.5,"y":0,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"center","yanchor":"top","annotationType":"axis","yshift":-21.917808219178088},{"text":"Causa de muerte","x":0,"y":0.5,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724},"xref":"paper","yref":"paper","textangle":-90,"xanchor":"right","yanchor":"center","annotationType":"axis","xshift":-28.825238688252387},{"text":"1","x":1,"y":0.93142530984996741,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(26,26,26,1)","family":"","size":10.62681610626816},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"left","yanchor":"middle"},{"text":"2","x":1,"y":0.78571428571428581,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(26,26,26,1)","family":"","size":10.62681610626816},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"left","yanchor":"middle"},{"text":"3","x":1,"y":0.64285714285714279,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(26,26,26,1)","family":"","size":10.62681610626816},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"left","yanchor":"middle"},{"text":"4","x":1,"y":0.5,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(26,26,26,1)","family":"","size":10.62681610626816},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"left","yanchor":"middle"},{"text":"5","x":1,"y":0.35714285714285721,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(26,26,26,1)","family":"","size":10.62681610626816},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"left","yanchor":"middle"},{"text":"6","x":1,"y":0.21428571428571436,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(26,26,26,1)","family":"","size":10.62681610626816},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"left","yanchor":"middle"},{"text":"7","x":1,"y":0.068574690150032633,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(26,26,26,1)","family":"","size":10.62681610626816},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"left","yanchor":"middle"}],"yaxis":{"domain":[0.86285061969993482,1],"automargin":true,"type":"linear","autorange":false,"range":[0.40000000000000002,7.5999999999999996],"tickmode":"array","ticktext":["C509","C169","U071","I219","C610","I100","F030"],"tickvals":[1,2,3,4.0000000000000009,5,6,7],"categoryorder":"array","categoryarray":["C509","C169","U071","I219","C610","I100","F030"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.6529680365296811,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":9.2984640929846396},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0,"zeroline":false,"anchor":"x","title":"","hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","layer":"below","x0":0,"x1":1,"y0":0.86285061969993482,"y1":1},{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","layer":"below","y0":0.86285061969993482,"y1":1,"x0":0,"x1":22.316313823163142,"xanchor":1,"xsizemode":"pixel"},{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","layer":"below","x0":0,"x1":1,"y0":0.71999347684279191,"y1":0.85143509458577959},{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","layer":"below","y0":0.71999347684279191,"y1":0.85143509458577959,"x0":0,"x1":22.316313823163142,"xanchor":1,"xsizemode":"pixel"},{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","layer":"below","x0":0,"x1":1,"y0":0.57713633398564901,"y1":0.70857795172863669},{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","layer":"below","y0":0.57713633398564901,"y1":0.70857795172863669,"x0":0,"x1":22.316313823163142,"xanchor":1,"xsizemode":"pixel"},{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","layer":"below","x0":0,"x1":1,"y0":0.43427919112850621,"y1":0.56572080887149379},{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","layer":"below","y0":0.43427919112850621,"y1":0.56572080887149379,"x0":0,"x1":22.316313823163142,"xanchor":1,"xsizemode":"pixel"},{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","layer":"below","x0":0,"x1":1,"y0":0.29142204827136342,"y1":0.42286366601435099},{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","layer":"below","y0":0.29142204827136342,"y1":0.42286366601435099,"x0":0,"x1":22.316313823163142,"xanchor":1,"xsizemode":"pixel"},{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","layer":"below","x0":0,"x1":1,"y0":0.14856490541422054,"y1":0.2800065231572082},{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","layer":"below","y0":0.14856490541422054,"y1":0.2800065231572082,"x0":0,"x1":22.316313823163142,"xanchor":1,"xsizemode":"pixel"},{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","layer":"below","x0":0,"x1":1,"y0":0,"y1":0.13714938030006527},{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","layer":"below","y0":0,"y1":0.13714938030006527,"x0":0,"x1":22.316313823163142,"xanchor":1,"xsizemode":"pixel"}],"yaxis2":{"type":"linear","autorange":false,"range":[0.40000000000000002,7.5999999999999996],"tickmode":"array","ticktext":["V299","C509","U071","I219","C610","I100","F030"],"tickvals":[1,2,3,4.0000000000000009,5,6,7],"categoryorder":"array","categoryarray":["V299","C509","U071","I219","C610","I100","F030"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.6529680365296811,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":9.2984640929846396},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"domain":[0.71999347684279191,0.85143509458577959],"gridcolor":"rgba(235,235,235,1)","gridwidth":0,"zeroline":false,"anchor":"x","title":"","hoverformat":".2f"},"yaxis3":{"type":"linear","autorange":false,"range":[0.40000000000000002,7.5999999999999996],"tickmode":"array","ticktext":["C509","C169","U071","I219","C610","I100","J449"],"tickvals":[1,2,3,4.0000000000000009,5,6,7],"categoryorder":"array","categoryarray":["C509","C169","U071","I219","C610","I100","J449"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.6529680365296811,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":9.2984640929846396},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"domain":[0.57713633398564901,0.70857795172863669],"gridcolor":"rgba(235,235,235,1)","gridwidth":0,"zeroline":false,"anchor":"x","title":"","hoverformat":".2f"},"yaxis4":{"type":"linear","autorange":false,"range":[0.40000000000000002,8.5999999999999996],"tickmode":"array","ticktext":["C509","K769","C169","U071","I259","I219","C610","I100"],"tickvals":[1,2,3,4,5,6,7,8],"categoryorder":"array","categoryarray":["C509","K769","C169","U071","I259","I219","C610","I100"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.6529680365296811,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":9.2984640929846396},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"domain":[0.43427919112850621,0.56572080887149379],"gridcolor":"rgba(235,235,235,1)","gridwidth":0,"zeroline":false,"anchor":"x","title":"","hoverformat":".2f"},"yaxis5":{"type":"linear","autorange":false,"range":[0.40000000000000002,8.5999999999999996],"tickmode":"array","ticktext":["C509","E112","I120","U071","I219","N185","C610","I100"],"tickvals":[1,2,3,4,5,6,7,8],"categoryorder":"array","categoryarray":["C509","E112","I120","U071","I219","N185","C610","I100"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.6529680365296811,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":9.2984640929846396},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"domain":[0.29142204827136342,0.42286366601435099],"gridcolor":"rgba(235,235,235,1)","gridwidth":0,"zeroline":false,"anchor":"x","title":"","hoverformat":".2f"},"yaxis6":{"type":"linear","autorange":false,"range":[0.40000000000000002,7.5999999999999996],"tickmode":"array","ticktext":["V299","C509","U071","I219","C610","I100","E146"],"tickvals":[1,2,3,4.0000000000000009,5,6,7],"categoryorder":"array","categoryarray":["V299","C509","U071","I219","C610","I100","E146"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.6529680365296811,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":9.2984640929846396},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"domain":[0.14856490541422054,0.2800065231572082],"gridcolor":"rgba(235,235,235,1)","gridwidth":0,"zeroline":false,"anchor":"x","title":"","hoverformat":".2f"},"yaxis7":{"type":"linear","autorange":false,"range":[0.40000000000000002,8.5999999999999996],"tickmode":"array","ticktext":["X954","V299","X959","C509","U071","I219","I100","E146"],"tickvals":[1,2,3,4,5,6,7,8],"categoryorder":"array","categoryarray":["X954","V299","X959","C509","U071","I219","I100","E146"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.6529680365296811,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":9.2984640929846396},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"domain":[0,0.13714938030006527],"gridcolor":"rgba(235,235,235,1)","gridwidth":0,"zeroline":false,"anchor":"x","title":"","hoverformat":".2f"},"showlegend":true,"legend":{"bgcolor":null,"bordercolor":null,"borderwidth":0,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.68949771689498},"title":{"text":"Número de casos<br />Sexo","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"59e44c97886":{"x":{},"y":{},"text":{},"size":{},"colour":{},"type":"scatter"}},"cur_data":"59e44c97886","visdat":{"59e44c97886":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Se va a  generar un resumen sobre  el promedio de edad</span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>resumen_edad_promedio <span class="ot">&lt;-</span> promedio_edad_causas <span class="sc">%&gt;%</span></span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(provincia, sexo, des_causa, promedio_edad, n_casos) <span class="sc">%&gt;%</span></span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(provincia, sexo, <span class="fu">desc</span>(promedio_edad)) <span class="sc">%&gt;%</span></span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(</span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">Provincia =</span> provincia,</span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">Sexo =</span> sexo,</span>
<span id="cb22-8"><a href="#cb22-8" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Causa de muerte"</span> <span class="ot">=</span> des_causa,</span>
<span id="cb22-9"><a href="#cb22-9" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Promedio de edad"</span> <span class="ot">=</span> promedio_edad,</span>
<span id="cb22-10"><a href="#cb22-10" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Número de casos"</span> <span class="ot">=</span> n_casos</span>
<span id="cb22-11"><a href="#cb22-11" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb22-12"><a href="#cb22-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-13"><a href="#cb22-13" aria-hidden="true" tabindex="-1"></a><span class="co">#se va a generar una tabla  </span></span>
<span id="cb22-14"><a href="#cb22-14" aria-hidden="true" tabindex="-1"></a>resumen_edad <span class="ot">&lt;-</span> resumen_edad_promedio <span class="sc">%&gt;%</span></span>
<span id="cb22-15"><a href="#cb22-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Provincia, Sexo) <span class="sc">%&gt;%</span></span>
<span id="cb22-16"><a href="#cb22-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb22-17"><a href="#cb22-17" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Promedio general de edad</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">round</span>(<span class="fu">mean</span>(<span class="st">`</span><span class="at">Promedio de edad</span><span class="st">`</span>), <span class="dv">1</span>),</span>
<span id="cb22-18"><a href="#cb22-18" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Causa con mayor promedio</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">first</span>(<span class="st">`</span><span class="at">Causa de muerte</span><span class="st">`</span>),</span>
<span id="cb22-19"><a href="#cb22-19" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Mayor promedio de edad</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">round</span>(<span class="fu">first</span>(<span class="st">`</span><span class="at">Promedio de edad</span><span class="st">`</span>), <span class="dv">1</span>),</span>
<span id="cb22-20"><a href="#cb22-20" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Total causas analizadas</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">n</span>(),</span>
<span id="cb22-21"><a href="#cb22-21" aria-hidden="true" tabindex="-1"></a>    <span class="at">.groups =</span> <span class="st">"drop"</span></span>
<span id="cb22-22"><a href="#cb22-22" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb22-23"><a href="#cb22-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(Provincia, Sexo)</span>
<span id="cb22-24"><a href="#cb22-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-25"><a href="#cb22-25" aria-hidden="true" tabindex="-1"></a><span class="co"># resumen de edad promedio </span></span>
<span id="cb22-26"><a href="#cb22-26" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(resumen_edad)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 14 × 6
   Provincia      Sexo   `Promedio general de edad` `Causa con mayor promedio`  
   &lt;dbl+lbl&gt;      &lt;chr&gt;                       &lt;dbl&gt; &lt;chr+lbl&gt;                   
 1 1 [San José]   Hombre                       74.5 C610 - Tumor maligno de la …
 2 1 [San José]   Mujer                        78.8 F030 - Demencia , no especi…
 3 2 [Alajuela]   Hombre                       67.9 C610 - Tumor maligno de la …
 4 2 [Alajuela]   Mujer                        83.6 I100 - Hipertensión esencia…
 5 3 [Cartago]    Hombre                       74.9 C610 - Tumor maligno de la …
 6 3 [Cartago]    Mujer                        75.3 J449 - Enfermedad pulmonar …
 7 4 [Heredia]    Hombre                       74   C610 - Tumor maligno de la …
 8 4 [Heredia]    Mujer                        73.1 I100 - Hipertensión esencia…
 9 5 [Guanacaste] Hombre                       77.4 U071 - COVID-19 virus ident…
10 5 [Guanacaste] Mujer                        77.9 I219 - Infarto agudo del mi…
11 6 [Puntarenas] Hombre                       65.9 C610 - Tumor maligno de la …
12 6 [Puntarenas] Mujer                        74.9 I100 - Hipertensión esencia…
13 7 [Limón]      Hombre                       52.7 I219 - Infarto agudo del mi…
14 7 [Limón]      Mujer                        79.6 E146 - Diabetes mellitus no…
# ℹ 2 more variables: `Mayor promedio de edad` &lt;dbl&gt;,
#   `Total causas analizadas` &lt;int&gt;</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Analisis por cantones</span></span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>datos_cantones <span class="ot">&lt;-</span> datos_filtrados<span class="sc">$</span>pc <span class="co"># se va a extraer el código de los cantones </span></span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>datos_cantones <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(datos_cantones) <span class="co"># Se va a convertir los códigos de los cantones en una data frame</span></span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a><span class="co">#Se va a realizar el mapeo de  los códigos de cantones con el nombre correspondiente a cada uno </span></span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a>canton_nombres <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb24-7"><a href="#cb24-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">pc =</span> <span class="fu">c</span>(<span class="dv">706</span>, <span class="dv">705</span>, <span class="dv">704</span>, <span class="dv">703</span>, <span class="dv">702</span>, <span class="dv">701</span>, <span class="dv">613</span>, <span class="dv">612</span>, <span class="dv">611</span>, <span class="dv">610</span>, <span class="dv">609</span>, <span class="dv">608</span>, <span class="dv">607</span>, <span class="dv">606</span>, <span class="dv">605</span>, <span class="dv">604</span>, <span class="dv">603</span>, <span class="dv">602</span>, <span class="dv">601</span>, <span class="dv">511</span>, <span class="dv">510</span>, <span class="dv">509</span>, <span class="dv">508</span>, <span class="dv">507</span>, <span class="dv">506</span>, <span class="dv">505</span>, <span class="dv">504</span>, <span class="dv">503</span>, <span class="dv">502</span>, <span class="dv">501</span>, <span class="dv">410</span>, <span class="dv">409</span>, <span class="dv">408</span>, <span class="dv">407</span>, <span class="dv">406</span>, <span class="dv">405</span>, <span class="dv">404</span>, <span class="dv">403</span>, <span class="dv">402</span>, <span class="dv">401</span>, <span class="dv">308</span>, <span class="dv">307</span>, <span class="dv">306</span>, <span class="dv">305</span>, <span class="dv">304</span>, <span class="dv">303</span>, <span class="dv">302</span>, <span class="dv">301</span>, <span class="dv">216</span>, <span class="dv">215</span>, <span class="dv">214</span>, <span class="dv">213</span>, <span class="dv">212</span>, <span class="dv">211</span>, <span class="dv">210</span>, <span class="dv">209</span>, <span class="dv">208</span>, <span class="dv">207</span>, <span class="dv">206</span>, <span class="dv">205</span>, <span class="dv">204</span>, <span class="dv">203</span>, <span class="dv">202</span>, <span class="dv">201</span>, <span class="dv">120</span>, <span class="dv">119</span>, <span class="dv">118</span>, <span class="dv">117</span>, <span class="dv">116</span>, <span class="dv">115</span>, <span class="dv">114</span>, <span class="dv">113</span>, <span class="dv">112</span>, <span class="dv">111</span>, <span class="dv">110</span>, <span class="dv">109</span>, <span class="dv">108</span>, <span class="dv">107</span>, <span class="dv">106</span>, <span class="dv">105</span>, <span class="dv">104</span>, <span class="dv">103</span>, <span class="dv">102</span>, <span class="dv">101</span>),</span>
<span id="cb24-8"><a href="#cb24-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">nombre_canton =</span> <span class="fu">c</span>(<span class="st">"Guácimo"</span>, <span class="st">"Matina"</span>, <span class="st">"Talamanca"</span>, <span class="st">"Siquirres"</span>, <span class="st">"Pococí"</span>, <span class="st">"Limón"</span>, <span class="st">"Puerto Jiménez"</span>, <span class="st">"Monteverde"</span>, <span class="st">"Garabito"</span>, <span class="st">"Corredores"</span>, <span class="st">"Parrita"</span>, <span class="st">"Coto Brus"</span>, <span class="st">"Golfito"</span>, <span class="st">"Quepos"</span>, <span class="st">"Osa"</span>, <span class="st">"Montes de Oro"</span>, <span class="st">"Buenos Aires"</span>, <span class="st">"Esparza"</span>, <span class="st">"Puntarenas"</span>, <span class="st">"Hojancha"</span>, <span class="st">"La Cruz"</span>, <span class="st">"Nandayure"</span>, <span class="st">"Tilarán"</span>, <span class="st">"Abangares"</span>, <span class="st">"Cañas"</span>, <span class="st">"Carrillo"</span>, <span class="st">"Bagaces"</span>, <span class="st">"Santa Cruz"</span>, <span class="st">"Nicoya"</span>, <span class="st">"Liberia"</span>, <span class="st">"Sarapiquí"</span>, <span class="st">"San Pablo"</span>, <span class="st">"Flores"</span>, <span class="st">"Belén"</span>, <span class="st">"San Isidro"</span>, <span class="st">"San Rafael"</span>, <span class="st">"Santa Bárbara"</span>, <span class="st">"Santo Domingo"</span>, <span class="st">"Barva"</span>, <span class="st">"Heredia"</span>, <span class="st">"El Guarco"</span>, <span class="st">"Oreamuno"</span>, <span class="st">"Alvarado"</span>, <span class="st">"Turrialba"</span>, <span class="st">"Jiménez"</span>, <span class="st">"La Unión"</span>, <span class="st">"Paraíso"</span>, <span class="st">"Cartago"</span>, <span class="st">"Río Cuarto"</span>, <span class="st">"Guatuso"</span>, <span class="st">"Los Chiles"</span>, <span class="st">"Upala"</span>, <span class="st">"Sarchí"</span>, <span class="st">"Zarcero"</span>, <span class="st">"San Carlos"</span>, <span class="st">"Orotina"</span>, <span class="st">"Poás"</span>, <span class="st">"Palmares"</span>, <span class="st">"Naranjo"</span>, <span class="st">"Atenas"</span>, <span class="st">"San Mateo"</span>, <span class="st">"Grecia"</span>, <span class="st">"San Ramón"</span>, <span class="st">"Alajuela"</span>, <span class="st">"León Cortés Castro"</span>, <span class="st">"Pérez Zeledón"</span>, <span class="st">"Curridabat"</span>, <span class="st">"Dota"</span>, <span class="st">"Turrubares"</span>, <span class="st">"Montes de Oca"</span>, <span class="st">"Moravia"</span>, <span class="st">"Tibás"</span>, <span class="st">"Acosta"</span>, <span class="st">"Vázquez de Coronado"</span>, <span class="st">"Alajuelita"</span>, <span class="st">"Santa Ana"</span>, <span class="st">"Goicoechea"</span>, <span class="st">"Mora"</span>, <span class="st">"Aserrí"</span>, <span class="st">"Tarrazú"</span>, <span class="st">"Puriscal"</span>, <span class="st">"Desamparados"</span>, <span class="st">"Escazú"</span>, <span class="st">"San José"</span>)</span>
<span id="cb24-9"><a href="#cb24-9" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb24-10"><a href="#cb24-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-11"><a href="#cb24-11" aria-hidden="true" tabindex="-1"></a>muertes_por_canton <span class="ot">&lt;-</span> datos_filtrados <span class="sc">%&gt;%</span></span>
<span id="cb24-12"><a href="#cb24-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">sexo =</span> <span class="fu">as.character</span>(sexo)) <span class="sc">%&gt;%</span>  <span class="co">#Se convierte la variable sexo a carácter</span></span>
<span id="cb24-13"><a href="#cb24-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(provincia, pc, mesdef, sexo, causamuer, des_causa) <span class="sc">%&gt;%</span></span>
<span id="cb24-14"><a href="#cb24-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">total_muertes =</span> <span class="fu">n</span>(), <span class="at">.groups =</span> <span class="st">"drop"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb24-15"><a href="#cb24-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(pc, mesdef, sexo) <span class="sc">%&gt;%</span></span>
<span id="cb24-16"><a href="#cb24-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(pc, mesdef, sexo, <span class="fu">desc</span>(total_muertes)) <span class="sc">%&gt;%</span></span>
<span id="cb24-17"><a href="#cb24-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice_head</span>(<span class="at">n =</span> <span class="dv">5</span>) <span class="sc">%&gt;%</span></span>
<span id="cb24-18"><a href="#cb24-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span></span>
<span id="cb24-19"><a href="#cb24-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(canton_nombres, <span class="at">by =</span> <span class="st">"pc"</span>) <span class="sc">%&gt;%</span>  <span class="co"># Se añade nombres a cada cantón  </span></span>
<span id="cb24-20"><a href="#cb24-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb24-21"><a href="#cb24-21" aria-hidden="true" tabindex="-1"></a>    <span class="at">sexo =</span> <span class="fu">case_when</span>(</span>
<span id="cb24-22"><a href="#cb24-22" aria-hidden="true" tabindex="-1"></a>      sexo <span class="sc">==</span> <span class="dv">1</span> <span class="sc">~</span> <span class="st">"Hombre"</span>,</span>
<span id="cb24-23"><a href="#cb24-23" aria-hidden="true" tabindex="-1"></a>      sexo <span class="sc">==</span> <span class="dv">2</span> <span class="sc">~</span> <span class="st">"Mujer"</span>,</span>
<span id="cb24-24"><a href="#cb24-24" aria-hidden="true" tabindex="-1"></a>      <span class="cn">TRUE</span> <span class="sc">~</span> <span class="fu">as.character</span>(sexo)</span>
<span id="cb24-25"><a href="#cb24-25" aria-hidden="true" tabindex="-1"></a>      ),</span>
<span id="cb24-26"><a href="#cb24-26" aria-hidden="true" tabindex="-1"></a>    <span class="at">mes =</span> <span class="fu">factor</span>(nombres_meses[mesdef], <span class="at">levels =</span> nombres_meses) <span class="co"># Pasa de número a nombre cada mes </span></span>
<span id="cb24-27"><a href="#cb24-27" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Conteo por cantón y sexo </span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>conteo_sexo_canton <span class="ot">&lt;-</span> muertes_por_canton <span class="sc">%&gt;%</span></span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">sexo =</span> <span class="fu">case_when</span>(</span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a>    sexo <span class="sc">==</span> <span class="dv">1</span> <span class="sc">~</span> <span class="st">"Hombre"</span>,</span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a>    sexo <span class="sc">==</span> <span class="dv">2</span> <span class="sc">~</span> <span class="st">"Mujer"</span>,</span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true" tabindex="-1"></a>    <span class="cn">TRUE</span> <span class="sc">~</span> <span class="fu">as.character</span>(sexo)</span>
<span id="cb25-7"><a href="#cb25-7" aria-hidden="true" tabindex="-1"></a>  )) <span class="sc">%&gt;%</span></span>
<span id="cb25-8"><a href="#cb25-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(pc, sexo, causamuer, des_causa) <span class="sc">%&gt;%</span></span>
<span id="cb25-9"><a href="#cb25-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">total_muertes =</span> <span class="fu">n</span>(), <span class="at">.groups =</span> <span class="st">"drop"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb25-10"><a href="#cb25-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(canton_nombres, <span class="at">by =</span> <span class="st">"pc"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb25-11"><a href="#cb25-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(sexo, nombre_canton, causamuer, des_causa, total_muertes) <span class="sc">%&gt;%</span></span>
<span id="cb25-12"><a href="#cb25-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(nombre_canton, sexo)</span>
<span id="cb25-13"><a href="#cb25-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-14"><a href="#cb25-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Ver la tabla resultante</span></span>
<span id="cb25-15"><a href="#cb25-15" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(conteo_sexo_canton)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6,053 × 5
   sexo   nombre_canton causamuer des_causa                        total_muertes
   &lt;chr&gt;  &lt;chr&gt;         &lt;chr+lbl&gt; &lt;chr+lbl&gt;                                &lt;int&gt;
 1 Hombre Abangares     B205      B205 - Enfermedad por VIH, resu…             1
 2 Hombre Abangares     B238      B238 - Enfermedad por VIH, resu…             1
 3 Hombre Abangares     C069      C069 - Tumor maligno de la boca…             2
 4 Hombre Abangares     C169      C169 - Tumor maligno del estóma…             3
 5 Hombre Abangares     C189      C189 - Tumor maligno del colon,…             1
 6 Hombre Abangares     C200      C200 - Tumor maligno del recto               2
 7 Hombre Abangares     C220      C220 - Carcinoma de células hep…             1
 8 Hombre Abangares     C229      C229 - Tumor maligno del hígado…             1
 9 Hombre Abangares     C439      C439 - Melanoma maligno de piel…             1
10 Hombre Abangares     C446      C446 - Tumor maligno de la piel…             1
# ℹ 6,043 more rows</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Tabla distribuida por los cantones y el total de muertes tanto de hombres como mujeres por cantón </span></span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>total_defunciones_canton <span class="ot">&lt;-</span> muertes_por_canton <span class="sc">%&gt;%</span></span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">sexo =</span> <span class="fu">case_when</span>(</span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a>    sexo <span class="sc">==</span> <span class="dv">1</span> <span class="sc">~</span> <span class="st">"Hombre"</span>,</span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a>    sexo <span class="sc">==</span> <span class="dv">2</span> <span class="sc">~</span> <span class="st">"Mujer"</span>,</span>
<span id="cb27-6"><a href="#cb27-6" aria-hidden="true" tabindex="-1"></a>    <span class="cn">TRUE</span> <span class="sc">~</span> <span class="fu">as.character</span>(sexo)</span>
<span id="cb27-7"><a href="#cb27-7" aria-hidden="true" tabindex="-1"></a>  )) <span class="sc">%&gt;%</span></span>
<span id="cb27-8"><a href="#cb27-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(pc, sexo) <span class="sc">%&gt;%</span></span>
<span id="cb27-9"><a href="#cb27-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">total_muertes =</span> <span class="fu">n</span>(), <span class="at">.groups =</span> <span class="st">"drop"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb27-10"><a href="#cb27-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(canton_nombres, <span class="at">by =</span> <span class="st">"pc"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb27-11"><a href="#cb27-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(nombre_canton, sexo, total_muertes) <span class="sc">%&gt;%</span></span>
<span id="cb27-12"><a href="#cb27-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> sexo, <span class="at">values_from =</span> total_muertes, <span class="at">values_fill =</span> <span class="dv">0</span>) <span class="sc">%&gt;%</span></span>
<span id="cb27-13"><a href="#cb27-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(nombre_canton)</span>
<span id="cb27-14"><a href="#cb27-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-15"><a href="#cb27-15" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(total_defunciones_canton)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 84 × 3
   nombre_canton Hombre Mujer
   &lt;chr&gt;          &lt;int&gt; &lt;int&gt;
 1 Abangares         57    51
 2 Acosta            58    53
 3 Alajuela          60    60
 4 Alajuelita        60    60
 5 Alvarado          45    45
 6 Aserrí            60    59
 7 Atenas            59    56
 8 Bagaces           58    44
 9 Barva             60    60
10 Belén             56    53
# ℹ 74 more rows</code></pre>
</div>
</div>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>